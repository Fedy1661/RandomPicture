(this["webpackJsonprandom-cat"]=this["webpackJsonprandom-cat"]||[]).push([[0],{19:function(e,t,r){e.exports=r(33)},29:function(e,t,r){},30:function(e,t,r){},31:function(e,t,r){},33:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),c=r(12),o=r.n(c),u=r(10),s=(r(29),r(30),r(8)),i=r(11),l=function(){return{type:"FETCH_IMAGE_FAILURE"}},m=function(e){return function(t){e().then((function(e){return t({type:"SET_URL_IMAGE",payload:e})})).catch((function(){return t(l)}))}},f={url:null,loading:!1,error:!1},p=r(18),d=Object(s.c)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0,r=t.type,n=t.payload;switch(r){case"SET_URL_IMAGE":return Object(i.a)({},e,{url:n});case"FETCH_IMAGE_REQUEST":return Object(i.a)({},e,{error:!1,loading:!0});case"FETCH_IMAGE_FAILURE":return Object(i.a)({},e,{error:!0,loading:!1});case"FECTH_IMAGE_SUCCESS":return Object(i.a)({},e,{error:!1,loading:!1});default:return e}}),Object(s.a)(p.a)),h=r(2),E=r(4),b=r(6),g=r(5),v=r(7),y=function(e){function t(){var e,r;Object(h.a)(this,t);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(r=Object(b.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(a)))).state={hasError:!1},r}return Object(v.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){return!0===this.state.hasError?a.a.createElement("div",null,"Oops... \u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a... \u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e, \u0441\u0442\u043e\u0438\u0442 \u043f\u0435\u0440\u0435\u0437\u0430\u0433\u0443\u0440\u0437\u0438\u0442\u044c \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443."):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),t}(n.Component),j=function(e){if(e.state)throw new Error(":))");return""},_=a.a.createContext(),O=_.Provider,C=_.Consumer,w=function(e){return function(t){return a.a.createElement(C,null,(function(r){return a.a.createElement(e,Object.assign({},t,{state:r}))}))}},S=(r(31),function(){return a.a.createElement("div",{className:"loader"})}),R=function(e){function t(){var e,r;Object(h.a)(this,t);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(r=Object(b.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(a)))).handleImageLoaded=function(){r.props.imageLoaded()},r.handleImageError=function(e){r.props.imageError()},r}return Object(v.a)(t,e),Object(E.a)(t,[{key:"UNSAFE_componentWillUpdate",value:function(e){this.props.url!==e.url&&this.props.imageRequested()}},{key:"render",value:function(){var e=this.props,t=e.url,r=e.state,n=e.loading,c=e.error,o=c?"\u041a\u0430\u0440\u0442\u0438\u043d\u043a\u0430 \u043d\u0435 \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u043b\u0430\u0441\u044c, \u0432\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0434\u0440\u0443\u0433\u0443\u044e.":null,u=n&&t?a.a.createElement(S,null):null,s=t?null:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044e",i=n?null:"image-random__image-visible";return a.a.createElement(y,null,a.a.createElement("div",{className:"image-random"},o,u,s,t&&!c&&a.a.createElement("img",{ref:"img",onLoad:this.handleImageLoaded,onError:this.handleImageError,className:"image-random__image ".concat(i),src:"".concat(t),alt:t}),a.a.createElement(j,{state:r})))}}]),t}(n.Component),I={imageLoaded:function(e){return{type:"FECTH_IMAGE_SUCCESS",payload:e}},imageRequested:function(){return{type:"FETCH_IMAGE_REQUEST"}},imageError:l},x=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){return t.reduceRight((function(e,t){return t(e)}),e)}}(w,Object(u.b)((function(e){return{url:e.url,loading:e.loading,error:e.error}}),I))(R),A=r(1),T=r.n(A),N=function e(){var t=this;Object(h.a)(this,e),this.getResources=function(e){var t;return T.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,T.a.awrap(fetch(e));case 2:return t=r.sent,r.abrupt("return",t);case 4:case"end":return r.stop()}}))},this.getRandomDog=function(){var e;return T.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,T.a.awrap(t.getResources("https://random.dog/woof.json"));case 2:return e=r.sent,r.t0=t,r.next=6,T.a.awrap(e.json());case 6:return r.t1=r.sent,r.abrupt("return",r.t0._transformToImage.call(r.t0,r.t1,"url"));case 8:case"end":return r.stop()}}))},this.getRandomCat=function(){var e;return T.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,T.a.awrap(t.getResources("https://aws.random.cat/meow"));case 2:return e=r.sent,r.t0=t,r.next=6,T.a.awrap(e.json());case 6:return r.t1=r.sent,r.abrupt("return",r.t0._transformToImage.call(r.t0,r.t1,"file"));case 8:case"end":return r.stop()}}))},this.getRandomGrayscale=function(){var e;return T.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,T.a.awrap(t.getResources("https://picsum.photos/500/500?grayscale"));case 2:return e=r.sent,r.abrupt("return",t._transformToImage(e,"url"));case 4:case"end":return r.stop()}}))},this.getRandomBlur=function(){var e;return T.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,T.a.awrap(t.getResources("https://picsum.photos/200/300/?blur"));case 2:return e=r.sent,r.abrupt("return",t._transformToImage(e,"url"));case 4:case"end":return r.stop()}}))},this._transformToImage=function(e,t){return e[t]}},k=function(e){var t=e.title,r=e.func,n=e.onSetPicture;return a.a.createElement("li",{className:"navbar__item nav-item"},a.a.createElement("button",{onClick:function(){return n(r)},className:"navbar__btn btn btn-secondary my-2 my-sm-0",type:"submit"},t))},F=function(e){function t(){return Object(h.a)(this,t),Object(b.a)(this,Object(g.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.props,t=e.children,r=e.onSetPicture,n=e.onChangeStateError;return a.a.createElement(y,null,a.a.createElement(a.a.Fragment,null,a.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark bg-primary"},a.a.createElement("div",{className:"navbar-collapse",id:"navbarColor01"},a.a.createElement("ul",{className:"navbar mr-auto"},a.a.Children.map(t,(function(e){return a.a.cloneElement(e,{title:e.props.title,func:e.props.func,onSetPicture:r})})),a.a.createElement("li",{className:"navbar__item nav-item"},a.a.createElement("button",{onClick:n,className:"navbar__btn btn btn-secondary my-2 my-sm-0",type:"submit"},"Error")))))))}}]),t}(n.Component),G=Object(u.b)(null,(function(e){return Object(s.b)({onSetPicture:m},e)}))(F),U=function(e){function t(){var e,r;Object(h.a)(this,t);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(r=Object(b.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(a)))).randomPictureService=new N,r.state={url:null,hasError:!1},r.handleSetPicture=function(e){e().then((function(e){return r.setState({url:e})}))},r.handleChangeStateError=function(){r.setState((function(e){return{hasError:!e.hasError}}))},r}return Object(v.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.randomPictureService,t=e.getRandomDog,r=e.getRandomCat,n=e.getRandomGrayscale,c=e.getRandomBlur,o=this.state,u=o.url,s=o.hasError;return a.a.createElement(y,null,a.a.createElement(O,{value:s},a.a.createElement("div",{className:"container"},a.a.createElement(G,{onChangeStateError:this.handleChangeStateError},a.a.createElement(k,{title:"\u0421\u043e\u0431\u0430\u0447\u043a\u0430",func:t}),a.a.createElement(k,{title:"\u041a\u043e\u0448\u0435\u0447\u043a\u0430",func:r}),a.a.createElement(k,{title:"Grayscale",func:n}),a.a.createElement(k,{title:"Blur",func:c})),a.a.createElement(x,{urlImage:u}))))}}]),t}(n.Component);o.a.render(a.a.createElement(u.a,{store:d},a.a.createElement(U,null)),document.getElementById("root"))}},[[19,1,2]]]);
//# sourceMappingURL=main.4af55f07.chunk.js.map