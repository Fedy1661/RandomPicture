(this["webpackJsonprandom-cat"]=this["webpackJsonprandom-cat"]||[]).push([[0],{14:function(e,t,r){},15:function(e,t,r){},16:function(e,t,r){},18:function(e,t,r){"use strict";r.r(t);var a=r(0),n=r.n(a),c=r(8),o=r.n(c),s=(r(14),r(15),r(2)),u=r(3),l=r(5),i=r(4),m=r(6),h=function(e){function t(){var e,r;Object(s.a)(this,t);for(var a=arguments.length,n=new Array(a),c=0;c<a;c++)n[c]=arguments[c];return(r=Object(l.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(n)))).state={hasError:!1},r}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return!0===this.state.hasError?n.a.createElement("div",null,"Oops... \u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a... \u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e, \u0441\u0442\u043e\u0438\u0442 \u043f\u0435\u0440\u0435\u0437\u0430\u0433\u0443\u0440\u0437\u0438\u0442\u044c \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443."):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),t}(a.Component),f=function(e){if(e.state)throw new Error(":))");return""},p=n.a.createContext(),d=p.Provider,g=p.Consumer,b=function(e){return function(t){return n.a.createElement(g,null,(function(r){return n.a.createElement(e,Object.assign({},t,{state:r}))}))}},v=(r(16),function(){return n.a.createElement("div",{class:"loader"})}),E=b(function(e){function t(){var e,r;Object(s.a)(this,t);for(var a=arguments.length,n=new Array(a),c=0;c<a;c++)n[c]=arguments[c];return(r=Object(l.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(n)))).state={loading:!1,error:!1},r.handleImageLoaded=function(){r.setState({loading:!1,error:!1})},r.handleImageError=function(e){console.log(e),r.setState({loading:!1,error:!0})},r}return Object(m.a)(t,e),Object(u.a)(t,[{key:"UNSAFE_componentWillUpdate",value:function(e){this.props.urlImage!==e.urlImage&&this.setState({loading:!0,error:!1})}},{key:"render",value:function(){var e=this.props,t=e.urlImage,r=e.state,a=this.state,c=a.loading,o=a.error,s=o?"\u041a\u0430\u0440\u0442\u0438\u043d\u043a\u0430 \u043d\u0435 \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u043b\u0430\u0441\u044c, \u0432\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0434\u0440\u0443\u0433\u0443\u044e.":null,u=c&&t?n.a.createElement(v,null):null,l=t?null:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044e",i=c?null:"image-random__image-visible";return n.a.createElement(h,null,n.a.createElement("div",{className:"image-random"},s,u,l,t&&!o&&n.a.createElement("img",{ref:"img",onLoad:this.handleImageLoaded,onError:this.handleImageError,className:"image-random__image ".concat(i),src:"".concat(t),alt:t}),n.a.createElement(f,{state:r})))}}]),t}(a.Component)),y=r(1),j=r.n(y),w=function e(){var t=this;Object(s.a)(this,e),this.getResources=function(e){var t;return j.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,j.a.awrap(fetch(e));case 2:return t=r.sent,r.abrupt("return",t);case 4:case"end":return r.stop()}}))},this.getRandomDog=function(){var e;return j.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,j.a.awrap(t.getResources("https://random.dog/woof.json"));case 2:return e=r.sent,r.t0=t,r.next=6,j.a.awrap(e.json());case 6:return r.t1=r.sent,r.abrupt("return",r.t0._transformToImage.call(r.t0,r.t1,"url"));case 8:case"end":return r.stop()}}))},this.getRandomCat=function(){var e;return j.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,j.a.awrap(t.getResources("https://aws.random.cat/meow"));case 2:return e=r.sent,r.t0=t,r.next=6,j.a.awrap(e.json());case 6:return r.t1=r.sent,r.abrupt("return",r.t0._transformToImage.call(r.t0,r.t1,"file"));case 8:case"end":return r.stop()}}))},this.getRandomGrayscale=function(){var e;return j.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,j.a.awrap(t.getResources("https://picsum.photos/500/500?grayscale"));case 2:return e=r.sent,r.abrupt("return",t._transformToImage(e,"url"));case 4:case"end":return r.stop()}}))},this.getRandomBlur=function(){var e;return j.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,j.a.awrap(t.getResources("https://picsum.photos/200/300/?blur"));case 2:return e=r.sent,r.abrupt("return",t._transformToImage(e,"url"));case 4:case"end":return r.stop()}}))},this._transformToImage=function(e,t){return e[t]}},O=function(e){var t=e.title,r=e.func,a=e.onSetPicture;return n.a.createElement("li",{className:"navbar__item nav-item"},n.a.createElement("button",{onClick:function(){return a(r)},className:"navbar__btn btn btn-secondary my-2 my-sm-0",type:"submit"},t))},S=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=e.children,r=e.onSetPicture,a=e.onChangeStateError;return n.a.createElement(h,null,n.a.createElement(n.a.Fragment,null,n.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark bg-primary"},n.a.createElement("div",{className:"navbar-collapse",id:"navbarColor01"},n.a.createElement("ul",{className:"navbar mr-auto"},n.a.Children.map(t,(function(e){return n.a.cloneElement(e,{title:e.props.title,func:e.props.func,onSetPicture:r})})),n.a.createElement("li",{className:"navbar__item nav-item"},n.a.createElement("button",{onClick:a,className:"navbar__btn btn btn-secondary my-2 my-sm-0",type:"submit"},"Error")))))))}}]),t}(a.Component),_=function(e){function t(){var e,r;Object(s.a)(this,t);for(var a=arguments.length,n=new Array(a),c=0;c<a;c++)n[c]=arguments[c];return(r=Object(l.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(n)))).randomPictureService=new w,r.state={url:null,hasError:!1},r.handleSetPicture=function(e){e().then((function(e){return r.setState({url:e})}))},r.handleChangeStateError=function(){r.setState((function(e){return{hasError:!e.hasError}}))},r}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.randomPictureService,t=e.getRandomDog,r=e.getRandomCat,a=e.getRandomGrayscale,c=e.getRandomBlur,o=this.state,s=o.url,u=o.hasError;return n.a.createElement(h,null,n.a.createElement(d,{value:u},n.a.createElement("div",{className:"container"},n.a.createElement(S,{onSetPicture:this.handleSetPicture,onChangeStateError:this.handleChangeStateError},n.a.createElement(O,{title:"\u0421\u043e\u0431\u0430\u0447\u043a\u0430",func:t}),n.a.createElement(O,{title:"\u041a\u043e\u0448\u0435\u0447\u043a\u0430",func:r}),n.a.createElement(O,{title:"Grayscale",func:a}),n.a.createElement(O,{title:"Blur",func:c})),n.a.createElement(E,{urlImage:s}))))}}]),t}(a.Component);o.a.render(n.a.createElement(_,null),document.getElementById("root"))},9:function(e,t,r){e.exports=r(18)}},[[9,1,2]]]);
//# sourceMappingURL=main.bc99b856.chunk.js.map